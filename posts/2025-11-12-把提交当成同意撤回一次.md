# 一场误点提交的月下挽歌

------

🩵IDEA中Git提交到了本地，但是还没有推送到远程，我要怎么操作可以撤销这次本地提交呢?

有时候，程序员的夜，就像一段没有结尾的 for 循环。
 代码写着写着，指尖一滑——`Ctrl + K`、`Ctrl + Enter`——啪！一行提交，寂静的 IDEA 窗口里闪过那句熟悉的“Commit Successfully”。

可心头一凉——**我还没准备好啊。**

于是，故事开始了。

------

## 🌙 一、悔意初生：撤销但不忘

若只是手快，情还未冷，只是想让代码再多停留一会儿，
 那便轻声唤起这句：

```bash
git reset --soft HEAD~1
```

👉 提交记录会被撤销，但文件的修改仍然保留在暂存区（`git status` 能看到它们）。
 这时你可以继续改、重新提交。
 文件静静躺在工作区，仿佛在说：“我还在呢，你慢慢改。”

------

## 🌸 二、决绝之夜：不留痕迹

若这一提交，注定不该存在。
 若那些改动，只是一时冲动的告白。

那么请用最冷的命令，斩断牵挂：

```bash
git reset --hard HEAD~1
```

💥它像一场骤雨，洗净一切痕迹。所有改动都会被彻底丢弃！
 从此不再有那次提交的影子，
 连 IDEA 也不记得你动过心。

------

## ☁️ 三、回溯时光：任意回到曾经

有时你想回到更早的地方，
 那段“代码还没乱，生活还没忙”的 commit。

用：

```bash
git log
```

翻开时光的书页，找到那串熟悉的 commit id，比如是 `abc1234`
 再轻轻念出：

```bash
git reset --soft abc1234
```

若你愿，改动仍随风未散；
 若你不愿，加上 `--hard`，一切归零。

------

## 🌼 四、IDEA 的温柔方式

假如命令行太冷，IDEA 也懂你的犹豫。
 在 **Git → Log** 里，
 找到那一行让你想重来的 commit，
 右键 → **Reset Current Branch to Here...**
 再挑选你的态度：

- `Soft`：我只是想重新来一次。（推荐）
- `Hard`：这段感情，我真的放下了。

![image-20251112160256281](https://gitee.com/studyjpc/file/raw/master/img/image-20251112160256281.png|https://violet-02.oss-cn-beijing.aliyuncs.com/files/image-20251112160256281.png)

![image-20251112160834882](https://gitee.com/studyjpc/file/raw/master/img/image-20251112160834882.png|https://violet-02.oss-cn-beijing.aliyuncs.com/files/image-20251112160834882.png)

![image-20251112160926327](https://gitee.com/studyjpc/file/raw/master/img/image-20251112160926327.png|https://violet-02.oss-cn-beijing.aliyuncs.com/files/image-20251112160926327.png)

![image-20251112160957035](https://gitee.com/studyjpc/file/raw/master/img/image-20251112160957035.png|https://violet-02.oss-cn-beijing.aliyuncs.com/files/image-20251112160957035.png)

![image-20251112161036083](https://gitee.com/studyjpc/file/raw/master/img/image-20251112161036083.png|https://violet-02.oss-cn-beijing.aliyuncs.com/files/image-20251112161036083.png)

------

## 🌌 尾声：给未来的自己一行防手抖魔法

夜深人静，谁都可能再点错一次“提交”。
 不妨在 `.gitconfig` 里加上：

```bash
[alias]
  uncommit = reset --soft HEAD~1
```

下次手滑时，只需一句：

```bash
git uncommit
```

就能像梦醒一样回到命运转折的前一秒。

------

月光照在键盘上，
 光标一闪一闪，像在笑：
 “写代码的人，也配拥有后悔的权利。”

------

